# 实验一

## 实验目的

1. 设计一个产生双音电话拨号信号的程序。输入电话号码的字符串，输出$8000$样值/秒的时域离散序列。
2. 采用$DFT$等方法对样值序列进行分析，输出分析所得到的电话号码，并与拨号信号程序的输入电话号码进行比较。

## 实验原理与设计方法

### 双音多频拨号系统

在电话中，数字$0-9$每一个数字和$*,\#$都用两个不同的单音频传输，所用的$8$个频率分成高频带和低频带两组，低频带分别为$697Hz, 770Hz, 852Hz, 941Hz$，高频带分别为$1209Hz, 1336Hz, 1477Hz, 1633Hz$。数字的组成方式如下表

|      | $1209Hz$ | $1336Hz$ | $1477Hz$ | $1633Hz$ |
| :----: | :---: | :----: | :----: | :----: |
| $697Hz$ | 1 | 2 | 3 | A |
| $770Hz$ | 4 | 5 | 6 | B |
| $852Hz$ | 7 | 8 | 9 | C |
| $941Hz$ | * | 0 | # | D |

信号表示为
$$
x(t) = sin(2\pi f_1 t) + sin(2\pi f_2 t)
$$

### 信号的产生与检测

使用$8kHz$对$DTMF$信号采样，即每$125ms$输出一个样本，得到时域离散信号为
$$
x[n] = sin(\frac{2\pi f_1 n}{8000}) + sin(\frac{2\pi f_2 n}{8000})
$$


由于计算正弦波的序列值需要占用计算时间，因此本次实验我选择查表法，预先将正弦波的各序列值计算并存储，这样可以提高运行速度。

在接收端，要对收到的双音多频信号进行检测，要将$DTMF$信号经过$A/D$变换，编程数字信号进行检测。利用$DFT$对双音多频信号进行频谱分析，找到信号的两个频率，进而确定符号。本次实验我使用$Goerzel$算法计算$DFT$的线性滤波。

### 参数选择

 用$DFT$对模拟信号进行频谱分析，需要确定采样频率($F_s$)、采样点数($N$)和观察时间长度($T_p$)。

要检测的$8$个频率中，相邻间隔最小是$73Hz$，因此$DFT$要至少至少分辨出相隔$73Hz$的频率，即$F_{min}=73Hz, T_{pmin}=\frac{1}{F_{min}}=\frac{1}{73}=13.7ms$，实验要求的实际持续时间至少为$45ms$满足条件。

要检测的信号频率范围是$697Hz-1633Hz$，考虑到语音干扰，还要检测二倍频的大侠，这样频率范围应扩大到$697Hz-3266Hz$，根据采样定理，$F_s\ge 2\times 3266Hz=6532Hz$，因此实验要求的采样频率$8kHz$满足条件，此时最少的采样点$N_{min}=T_{pmin}\times F_s=109.587\approx 110$。

## 实验步骤

序列的$N$点$DFT$是对序列频谱在$0-2\pi$的$N$点等间隔采样，$DFT$幅度最大处对应的就是信号的准确频率。由于不能通过采样得到周期序列，因此存在检测频率的准确性问题

---

==选择$N=205$效果是最好的==

|      |      |      |      |      |      |      |      |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|      |      |      |      |      |      |      |      |
|      |      |      |      |      |      |      |      |
|      |      |      |      |      |      |      |      |
|      |      |      |      |      |      |      |      |
|      |      |      |      |      |      |      |      |
|      |      |      |      |      |      |      |      |
|      |      |      |      |      |      |      |      |
|      |      |      |      |      |      |      |      |

## 实验结果与分析

